# Ionic
使用ionic进行制作新闻APP的尝试

1.新闻数据来自百度API，该接口的数据对使用者来说非常方便。

  【1】在数据请求时，针对不同情况返回不同信息，可以用来制作数据请求错误时的提示信息。
  
  【2】数据请求成功时，存储数据的对象中，有新闻的总数、数据的页数（默认每页20条）等，方便分页处理。在实现数据无限加载时，使用到了这些数据。
  
  【3】在制作新闻详情页时，可以通过请求时的参数设置，直接返回html数据。通过把字符串转换为html代码可以直接实现页面渲染。样式只需要进行简单的设置。
  
  【4】可以通过接口直接请求所有的新闻分类，利用该数据，在左侧栏中列出了所有新闻分类。
  
2.该APP 拥有以下几种页面：

  #slide APP启动时的滑动页。通过点击开始按钮进入主页。
  
  #home  主页，显示新闻列表，默认为“国内最新”分类的新闻，显示20条。向下继续查看时会发出请求，继续加载数据，可以设置加载的页数（在控制器中设置了最多加载50页，可以修改）。有搜索框，可以搜索其他分类的新闻。
  
  #details 新闻详情页。
  
3.bug

  在电脑端测试时，各种功能实现良好。
  
  打包成app后安装到手机，发现开始按钮不起作用。注释滑动页后再次打包，发现数据没有请求过来。执行cordova plugin add cordova-plugin-whitelist后还是不管用，暂时没有发现时什么原因，希望之后可以解决。
  
4.解决bug

  发现使用火狐浏览器打开本地文件并不使用服务器时的状况与手机端极为相似，所以尝试以火狐浏览器本地打开页面的环境进行调试。使用Firebug仔细查看后，发现数据成功请求但页面空白，查看HTML，发现除了slide页面以外的模版都没有加载成功（之前忽略了这一状况，以为是控制器或者页面代码出错）。多次尝试失败以及仔细查看比对后，发现是模版的路径写错了，templateUrl:'views/home.html',写成了templateUrl:'/views/home.html',路径不是相对路径，极易出错。修改后再打包成app，发现可以在手机上正常使用了。细节决定成败。
  
5.更换了接口

  该接口本是来自百度API平台上的易源新闻，后来其自己搭建了一个叫做易源接口的平台，新闻接口也变成了其平台的官方接口。从百度请求新闻数据时经常请求失败偶有成功，查看响应信息，发现提示去易源官方网站调用，为了减少请求中的错误，换了易源官方的接口地址。
